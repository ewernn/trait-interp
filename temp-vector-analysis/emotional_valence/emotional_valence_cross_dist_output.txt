================================================================================
CROSS-DISTRIBUTION TEST: emotional_valence
================================================================================

Loading natural test data...

================================================================================
LAYER 0
================================================================================
Test data loaded:
  Positive: torch.Size([100, 2304])
  Negative: torch.Size([101, 2304])
  mean_diff   :  50.2% (101/201) | sep=  6.93 | OK
  probe       :  91.5% (184/201) | sep=  5.20 | OK
  ica         :  56.2% (113/201) | sep=  3.96 | FLIPPED
  gradient    :  50.2% (101/201) | sep=  0.51 | OK

================================================================================
LAYER 1
================================================================================
Test data loaded:
  Positive: torch.Size([100, 2304])
  Negative: torch.Size([101, 2304])
  mean_diff   :  50.2% (101/201) | sep= 12.48 | OK
  probe       :  93.0% (187/201) | sep=  6.42 | OK
  ica         :  51.7% (104/201) | sep=  1.88 | FLIPPED
  gradient    :  50.7% (102/201) | sep=  1.05 | OK

================================================================================
LAYER 2
================================================================================
Test data loaded:
  Positive: torch.Size([100, 2304])
  Negative: torch.Size([101, 2304])
  mean_diff   :  69.2% (139/201) | sep= 16.35 | OK
  probe       :  93.5% (188/201) | sep=  6.83 | OK
  ica         :  52.7% (106/201) | sep=  2.75 | FLIPPED
  gradient    :  62.2% (125/201) | sep=  1.06 | OK

================================================================================
LAYER 3
================================================================================
Test data loaded:
  Positive: torch.Size([100, 2304])
  Negative: torch.Size([101, 2304])
  mean_diff   :  50.2% (101/201) | sep= 21.30 | OK
  probe       :  92.5% (186/201) | sep=  7.19 | OK
  ica         :  57.7% (116/201) | sep=  2.01 | FLIPPED
  gradient    :  51.7% (104/201) | sep=  1.73 | OK

================================================================================
LAYER 4
================================================================================
Test data loaded:
  Positive: torch.Size([100, 2304])
  Negative: torch.Size([101, 2304])
  mean_diff   :  80.6% (162/201) | sep= 35.17 | OK
  probe       :  92.5% (186/201) | sep=  8.31 | OK
  ica         :  50.2% (101/201) | sep=  7.76 | OK
  gradient    :  60.7% (122/201) | sep=  2.00 | OK

================================================================================
LAYER 5
================================================================================
Test data loaded:
  Positive: torch.Size([100, 2304])
  Negative: torch.Size([101, 2304])
  mean_diff   :  64.2% (129/201) | sep= 47.39 | OK
  probe       :  95.0% (191/201) | sep=  8.85 | OK
  ica         :  52.2% (105/201) | sep=  1.18 | OK
  gradient    :  89.1% (179/201) | sep=  2.76 | OK

================================================================================
LAYER 6
================================================================================
Test data loaded:
  Positive: torch.Size([100, 2304])
  Negative: torch.Size([101, 2304])
  mean_diff   :  50.2% (101/201) | sep= 48.03 | OK
  probe       :  95.0% (191/201) | sep=  8.81 | OK
  ica         :  60.2% (121/201) | sep= 13.52 | OK
  gradient    :  74.6% (150/201) | sep=  2.20 | OK

================================================================================
LAYER 7
================================================================================
Test data loaded:
  Positive: torch.Size([100, 2304])
  Negative: torch.Size([101, 2304])
  mean_diff   :  50.2% (101/201) | sep=100.48 | OK
  probe       :  96.0% (193/201) | sep= 10.07 | OK
  ica         :  59.2% (119/201) | sep=  9.34 | FLIPPED
  gradient    :  52.2% (105/201) | sep=  3.79 | OK

================================================================================
LAYER 8
================================================================================
Test data loaded:
  Positive: torch.Size([100, 2304])
  Negative: torch.Size([101, 2304])
  mean_diff   :  50.2% (101/201) | sep=126.20 | OK
  probe       :  96.5% (194/201) | sep= 10.79 | OK
  ica         :  56.7% (114/201) | sep= 16.05 | FLIPPED
  gradient    :  82.6% (166/201) | sep=  4.57 | OK

================================================================================
LAYER 9
================================================================================
Test data loaded:
  Positive: torch.Size([100, 2304])
  Negative: torch.Size([101, 2304])
  mean_diff   :  50.2% (101/201) | sep=161.01 | OK
  probe       :  95.5% (192/201) | sep= 10.85 | OK
  ica         :  49.8% (100/201) | sep= 14.90 | FLIPPED
  gradient    :  71.1% (143/201) | sep=  4.77 | OK

================================================================================
LAYER 10
================================================================================
Test data loaded:
  Positive: torch.Size([100, 2304])
  Negative: torch.Size([101, 2304])
  mean_diff   :  50.2% (101/201) | sep=173.54 | OK
  probe       :  95.0% (191/201) | sep= 10.41 | OK
  ica         :  49.8% (100/201) | sep= 36.26 | FLIPPED
  gradient    :  52.7% (106/201) | sep=  5.34 | OK

================================================================================
LAYER 11
================================================================================
Test data loaded:
  Positive: torch.Size([100, 2304])
  Negative: torch.Size([101, 2304])
  mean_diff   :  50.2% (101/201) | sep=239.19 | OK
  probe       :  95.0% (191/201) | sep= 10.28 | OK
  ica         :  59.2% (119/201) | sep= 26.49 | OK
  gradient    :  50.7% (102/201) | sep=  5.71 | OK

================================================================================
LAYER 12
================================================================================
Test data loaded:
  Positive: torch.Size([100, 2304])
  Negative: torch.Size([101, 2304])
  mean_diff   :  50.2% (101/201) | sep=229.65 | OK
  probe       :  94.5% (190/201) | sep= 10.14 | OK
  ica         :  51.7% (104/201) | sep= 30.15 | FLIPPED
  gradient    :  50.2% (101/201) | sep=  5.17 | OK

================================================================================
LAYER 13
================================================================================
Test data loaded:
  Positive: torch.Size([100, 2304])
  Negative: torch.Size([101, 2304])
  mean_diff   :  50.2% (101/201) | sep=383.71 | OK
  probe       :  95.5% (192/201) | sep= 10.00 | OK
  ica         :  50.2% (101/201) | sep=  8.92 | OK
  gradient    :  50.7% (102/201) | sep=  7.32 | OK

================================================================================
LAYER 14
================================================================================
Test data loaded:
  Positive: torch.Size([100, 2304])
  Negative: torch.Size([101, 2304])
  mean_diff   :  50.2% (101/201) | sep=388.22 | OK
  probe       :  94.0% (189/201) | sep= 10.17 | OK
  ica         :  49.8% (100/201) | sep= 54.47 | OK
  gradient    :  90.5% (182/201) | sep=  6.77 | OK

================================================================================
LAYER 15
================================================================================
Test data loaded:
  Positive: torch.Size([100, 2304])
  Negative: torch.Size([101, 2304])
  mean_diff   :  50.2% (101/201) | sep=571.29 | OK
  probe       :  94.0% (189/201) | sep= 10.30 | OK
  ica         :  53.7% (108/201) | sep= 28.64 | FLIPPED
  gradient    :  50.2% (101/201) | sep=  7.37 | OK

================================================================================
LAYER 16
================================================================================
Test data loaded:
  Positive: torch.Size([100, 2304])
  Negative: torch.Size([101, 2304])
  mean_diff   :  65.7% (132/201) | sep=1910.91 | OK
  probe       : 100.0% (201/201) | sep= 20.28 | OK
  ica         :  49.8% (100/201) | sep= 40.60 | FLIPPED
  gradient    :  58.2% (117/201) | sep= 10.47 | OK

================================================================================
LAYER 17
================================================================================
Test data loaded:
  Positive: torch.Size([100, 2304])
  Negative: torch.Size([101, 2304])
  mean_diff   :  50.2% (101/201) | sep=993.50 | OK
  probe       :  95.5% (192/201) | sep= 13.23 | OK
  ica         :  51.2% (103/201) | sep= 42.65 | FLIPPED
  gradient    :  55.7% (112/201) | sep= 11.02 | OK

================================================================================
LAYER 18
================================================================================
Test data loaded:
  Positive: torch.Size([100, 2304])
  Negative: torch.Size([101, 2304])
  mean_diff   :  50.2% (101/201) | sep=1185.81 | OK
  probe       :  95.0% (191/201) | sep= 13.89 | OK
  ica         :  57.2% (115/201) | sep=191.63 | OK
  gradient    :  56.2% (113/201) | sep= 12.41 | OK

================================================================================
LAYER 19
================================================================================
Test data loaded:
  Positive: torch.Size([100, 2304])
  Negative: torch.Size([101, 2304])
  mean_diff   :  50.2% (101/201) | sep=1515.42 | OK
  probe       :  94.0% (189/201) | sep= 13.76 | OK
  ica         :  50.7% (102/201) | sep=144.72 | FLIPPED
  gradient    :  89.6% (180/201) | sep= 15.84 | OK

================================================================================
LAYER 20
================================================================================
Test data loaded:
  Positive: torch.Size([100, 2304])
  Negative: torch.Size([101, 2304])
  mean_diff   :  50.2% (101/201) | sep=1736.58 | OK
  probe       :  94.0% (189/201) | sep= 14.44 | OK
  ica         :  49.8% (100/201) | sep=125.55 | FLIPPED
  gradient    :  50.2% (101/201) | sep= 16.48 | OK

================================================================================
LAYER 21
================================================================================
Test data loaded:
  Positive: torch.Size([100, 2304])
  Negative: torch.Size([101, 2304])
  mean_diff   :  50.2% (101/201) | sep=2369.62 | OK
  probe       :  95.0% (191/201) | sep= 15.59 | OK
  ica         :  49.8% (100/201) | sep=150.33 | OK
  gradient    :  66.2% (133/201) | sep= 19.57 | OK

================================================================================
LAYER 22
================================================================================
Test data loaded:
  Positive: torch.Size([100, 2304])
  Negative: torch.Size([101, 2304])
  mean_diff   :  50.2% (101/201) | sep=3870.48 | OK
  probe       :  94.0% (189/201) | sep= 16.10 | OK
  ica         :  57.7% (116/201) | sep=1270.55 | FLIPPED
  gradient    :  57.7% (116/201) | sep= 24.73 | OK

================================================================================
LAYER 23
================================================================================
Test data loaded:
  Positive: torch.Size([100, 2304])
  Negative: torch.Size([101, 2304])
  mean_diff   :  50.2% (101/201) | sep=4244.24 | OK
  probe       :  93.5% (188/201) | sep= 15.86 | OK
  ica         :  54.7% (110/201) | sep=1265.80 | OK
  gradient    :  58.7% (118/201) | sep= 24.99 | OK

================================================================================
LAYER 24
================================================================================
Test data loaded:
  Positive: torch.Size([100, 2304])
  Negative: torch.Size([101, 2304])
  mean_diff   :  50.2% (101/201) | sep=5046.68 | OK
  probe       :  91.5% (184/201) | sep= 16.24 | OK
  ica         :  62.2% (125/201) | sep=280.27 | FLIPPED
  gradient    :  52.2% (105/201) | sep= 28.90 | OK

================================================================================
LAYER 25
================================================================================
Test data loaded:
  Positive: torch.Size([100, 2304])
  Negative: torch.Size([101, 2304])
  mean_diff   :  70.1% (141/201) | sep=1058.57 | OK
  probe       :  92.0% (185/201) | sep= 79.28 | OK
  ica         :  77.1% (155/201) | sep=279.26 | FLIPPED
  gradient    :  56.2% (113/201) | sep= 36.90 | OK

================================================================================
RESULTS SUMMARY
================================================================================

mean_diff   : Layer  4 →  80.6% (162/201)
probe       : Layer 16 → 100.0% (201/201)
ica         : Layer 25 →  77.1% (155/201)
gradient    : Layer 14 →  90.5% (182/201)

✅ Results saved to /tmp/emotional_valence_cross_dist_results.json

================================================================================
NEXT: Analyze layer profiles and compare to uncertainty_calibration
================================================================================
